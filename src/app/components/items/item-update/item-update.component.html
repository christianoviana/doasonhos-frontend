
 <div *ngIf="isLoading">
    <app-loading [fullscreen]="true"></app-loading>
</div>   
        
<div class="container" id="group-update" style="border: 1px solid gray;">    

    <div class="row  text-right">
        <div class="col-12">                
            <a routerLink="../../list" class="btn btn-outline-success"><i class="fa fa-arrow-circle-left"></i></a>                
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <app-alert></app-alert>    
        </div>
    </div>

    <div class="row">
        <div class="col-12">                             
            <fieldset [disabled]='isLoading' *ngIf="item">               
                <h1>Atualizar Item</h1>
                <form #itemUpdateForm='ngForm' (ngSubmit)='onUpdateItem(itemUpdateForm)'>                  
                    <div class="form-row">  
                        <div class="form-group text-center col-12">
                            <label id="thumbnail">                                          
                                <input
                                accept=".jpg,.jpeg,.png,.bmp,.tiff"
                                type="file"
                                (change)='onFileChange($event.target.files[0])'
                                />    
                                <i *ngIf='fileUrl == undefined || fileUrl == ""' style="margin-top: 50%;" class="fa fa-upload"></i>   
                                <img class="img-reponsive" style="padding: 2px;" width="200px" height="200px" *ngIf="fileUrl != undefined && fileUrl != ''" [src]='fileUrl'/>                      
                            </label> 
                            <p [ngClass]="(fileUrl != undefined && fileUrl != '') ? 'success' : 'error'"><b>{{imageUpdated}}</b></p>
                        </div>                       
                    </div>     
                    
                    <div class="form-row">
                        <div class="form-group col-12">
                            <label for="name"><b>Nome</b></label>
                            <input autocomplete="off" required [(ngModel)]='item.name' name="name" id="name" type="text" class="form-control">
                        </div>
                      
                        <div class="form-group col-12">
                            <label for="description"><b>Descrição</b></label>
                            <textarea id="description"class="form-control" required [(ngModel)]='item.description' minlength="1" name="description" maxlength="200"></textarea>           
                        </div>
                    </div>       

                    <div class="form-row">
                        <div class="form-group col-4">
                            <label for="price"><b>Preço</b></label>
                            <input type="text" id="price" class="form-control" required [(ngModel)]="item.price" name="price" mask="separator.2" thousandSeparator=".">          
                        </div>
    
                        <div class="form-group col-8">
                            <label for="groups"><b>Grupo</b></label>
                            <select id="groupId"class="form-control" required [(ngModel)]='item.group.id' name="groupId">
                                <option [value]="group.id" *ngFor="let group of groups">{{group.name}}</option>
                            </select>           
                        </div>
                    </div>      
                    
                    <div class="form-row">
                        <div class="form-group col-12">                                                   
                            <label for="activated"><b>Ativo: </b> <input type="checkbox" id="activated" [(ngModel)]='item.activated' name="activated"></label>
                        </div>                                
                    </div>           
                    
                    <div id="btn-controls" class="text-center">
                        <button type="submit" id="btn-save" class="btn btn-success" [disabled]='!itemUpdateForm.valid || itemUpdateForm.pristine'>Atualizar <i class="fa fa-save"></i></button>
                    </div>
                  
                </form>  
            </fieldset>          
        </div>
    </div>          
</div>
